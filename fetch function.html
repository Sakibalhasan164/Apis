<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fetch function</title>
</head>
<style>
p{
    background-color: pink;
}
h1{
    background-color:#F8E338;
}



</style>

<body>
<h1>Fetch a local image file</h1>
<img src="" alt="rainbow " id="img" width="300px" height="150px"> 

<p id="text"></p>

<script>
const img=document.getElementById("img")
const text=document.getElementById("text")
//im fatching a local image
// fetch("rainbow.jpg")
// .then((res)=>{
//     console.log(res);
//     return res.blob();
// }).then(
//     (res)=>{
//         console.log(res);
//         img.setAttribute("src",URL.createObjectURL(res))
//     }
// )
// .catch((err)=>{console.log(err);
// })

//asyinc fuction
//calling the function
window.addEventListener('load',bringRainbow) 


async function bringRainbow(){
    const respose= await fetch("rainbow.jpg")
    const image=await respose.blob()
    img.setAttribute("src",URL.createObjectURL(image))
    console.log("this async function is being called when the window is loaded");
  
  const textRes=await fetch("text.txt")
  const fetcedText= await textRes.text()
  text.innerHTML=fetcedText



}

</script>
</body>
</html>

